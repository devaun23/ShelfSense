# ============================================
# ShelfSense Production Environment Variables
# Copy these to Railway Dashboard → Variables
# ============================================

# ===================
# DATABASE (Required)
# ===================
# Railway PostgreSQL provides this automatically when you add a PostgreSQL service
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@YOUR_HOST:5432/railway

# ===================
# AUTHENTICATION (Required)
# ===================
# CRITICAL: Generate a secure key and NEVER change it after launch
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=Xvj-gEcadzaEaIvtfJMsi4Kc5RBPMyWfHJHqjI8TPLE
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===================
# OPENAI (Required)
# ===================
OPENAI_API_KEY=sk-proj-YOUR_OPENAI_API_KEY

# ===================
# STRIPE PAYMENTS (Required for subscriptions)
# ===================
# Switch from sk_test_ to sk_live_ for production!
STRIPE_SECRET_KEY=sk_live_YOUR_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET
STRIPE_PRICE_STUDENT_MONTHLY=price_YOUR_STUDENT_MONTHLY_PRICE_ID
STRIPE_PRICE_STUDENT_YEARLY=price_YOUR_STUDENT_YEARLY_PRICE_ID
STRIPE_PRICE_PREMIUM_MONTHLY=price_YOUR_PREMIUM_MONTHLY_PRICE_ID
STRIPE_PRICE_PREMIUM_YEARLY=price_YOUR_PREMIUM_YEARLY_PRICE_ID

# ===================
# URLS (Required)
# ===================
# Custom domain URLs
FRONTEND_URL=https://shelfsense.com
API_URL=https://api.shelfsense.com

# ===================
# EMAIL - RESEND (Required for email features)
# ===================
RESEND_API_KEY=re_YOUR_RESEND_API_KEY
RESEND_WEBHOOK_SECRET=whsec_YOUR_RESEND_WEBHOOK_SECRET
EMAIL_FROM=ShelfSense <noreply@yourdomain.com>

# ===================
# ERROR MONITORING - SENTRY (Recommended)
# ===================
# Get your DSN from https://sentry.io → Project Settings → Client Keys
SENTRY_DSN=https://YOUR_KEY@YOUR_ORG.ingest.sentry.io/YOUR_PROJECT_ID
ENVIRONMENT=production

# ===================
# OPTIONAL SETTINGS
# ===================
# Redis for caching (if using Railway Redis add-on)
# REDIS_URL=redis://default:password@host:port

# Debug settings (keep disabled in production)
DEBUG_QUERIES=false
SLOW_QUERY_THRESHOLD_MS=100

# Pool warming on startup
ENABLE_POOL_WARMING=true

# Admin email for special permissions
# ADMIN_EMAIL=admin@yourdomain.com

# ===================
# BACKUP SETTINGS (for automated backups)
# ===================
BACKUP_RETENTION_DAYS=30

# Cloud Storage for Backups (Choose ONE option below)

# Option A: Cloudflare R2 (Recommended - cheaper than S3)
# Get credentials from Cloudflare Dashboard → R2 → Manage R2 API Tokens
# AWS_ACCESS_KEY_ID=your_r2_access_key_id
# AWS_SECRET_ACCESS_KEY=your_r2_secret_access_key
# AWS_S3_BUCKET=shelfsense-backups
# AWS_S3_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com

# Option B: AWS S3
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=shelfsense-backups
# AWS_REGION=us-east-1

# Optional: Webhook for backup notifications (Slack/Discord)
# BACKUP_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
